import sys
import pymysql.cursors
import os
import numpy as np
import matplotlib.pyplot as plt
import pandas as pd
ms_list=[];mm_list=[]
def check_data():
    db = pymysql.connect(host = "localhost",port = 3306,user = "root",password = "",db="text-elastic-modulus")
    cur = db.cursor()
    sql_ms = "select ms from sheet3;"
    cur.execute(sql_ms)
    results_ms = cur.fetchall()
    global ms_list
    for row in results_ms:
        ms_list.append(float(row[0]))
    print(ms_list)
    sql_mm= "select mm from sheet3;"
    cur.execute(sql_mm)
    results_mm=cur.fetchall()
    global mm_list
    for datas in results_mm:
        mm_list.append(float(datas[0]))
    print(mm_list)
    plt.figure()
    #plt.plot(ms_list,mm_list,'g')
    plt.scatter(ms_list,mm_list)
    plt.xlabel('time')
    plt.ylabel('distance')
    #plt.plot(0.45,2,'*','r')
    plt.text(0.45,1.9,'0.45,2',fontdict={'size':'8','color':'r'})
    plt.text(2,1.9,'2.2',fontdict={'size':'8','color':'r'})
    plt.text(2.45,0.1,'2,45,0',fontdict={'size':'8','color':'r'})
    #plt.plot(2,2,'*','r')
    #plt.plot(2.45,0,'*','r')
    #plt.text(1.5,2.5,'total:1.56ms',fontdict={'size':'8','color':'b'})
    #plt.text(70,0.3,'stable-sleep:97.54ms',fontdict={'size':'12','color':'b'})
    plt.show()
    db.commit()
    db.close()
def plot_a_b():
    a = [1.40000000000000, 1.45500000000000, 1.51000000000000, 1.56500000000000, 1.62000000000000, 1.67500000000000,
         1.73000000000000, 1.78500000000000, 1.84000000000000, 1.89500000000000, 1.95000000000000, 2.00500000000000,
         2.06000000000000, 2.11500000000000, 2.17000000000000, 2.22500000000000, 2.28000000000000, 2.33500000000000,
         2.39000000000000, 2.44500000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000, 2.50000000000000,
         2.50000000000000, 2.50000000000000, 2.50000000000000, 3.54500000000000, 3.49000000000000, 3.43500000000000,
         3.38000000000000, 3.32500000000000, 3.27000000000000, 3.21500000000000, 3.16000000000000, 3.10500000000000,
         3.05000000000000, 2.99500000000000, 2.94000000000000, 2.88500000000000, 2.83000000000000, 2.77500000000000,
         2.72000000000000, 2.66500000000000, 2.61000000000000, 2.55500000000000, 2.50000000000000, 2.44500000000000,
         2.39000000000000, 2.33500000000000, 2.28000000000000, 2.22500000000000, 2.17000000000000, 2.11500000000000,
         2.06000000000000, 2.00500000000000, 1.95000000000000, 1.89500000000000, 1.84000000000000, 1.78500000000000,
         1.73000000000000, 1.67500000000000, 1.62000000000000, 1.56500000000000, 1.51000000000000, 1.45500000000000,
         1.40000000000000, 1.34500000000000, 1.29000000000000, 1.23500000000000, 1.18000000000000, 1.12500000000000]

    b = [0.798777805210716, 0.795947600431184, 0.794413581393044, 0.794175748096295, 0.795234100540939,
            0.797588638726974, 0.801239362654401, 0.806186272323220, 0.812429367733431, 0.819968648885034,
            0.828804115778029, 0.838935768412415, 0.850363606788193, 0.863087630905364, 0.877107840763926,
            0.892424236363880, 0.909036817705226, 0.926945584787963, 0.946150537612093, 0.966651676177614,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527, 0.988449000484527,
            0.988449000484527, 1.64887345318033, 1.60244859978697, 1.55731993213501, 1.51348745022443, 1.47095115405525,
            1.42971104362746, 1.38976711894106, 1.35111937999605, 1.31376782679244, 1.27771245933021, 1.24295327760938,
            1.20949028162994, 1.17732347139189, 1.14645284689524, 1.11687840813997, 1.08860015512610, 1.06161808785362,
            1.03593220632253, 1.01154251053283, 0.988449000484527, 0.966651676177614, 0.946150537612092,
            0.926945584787963, 0.909036817705225, 0.892424236363880, 0.877107840763926, 0.863087630905364,
            0.850363606788193, 0.838935768412415, 0.828804115778028, 0.819968648885034, 0.812429367733431,
            0.806186272323220, 0.801239362654401, 0.797588638726974, 0.795234100540939, 0.794175748096295,
            0.794413581393044, 0.795947600431184, 0.798777805210716, 0.802904195731640, 0.808326771993956,
            0.815045533997664, 0.823060481742764, 0.832371615229255]
    plt.plot(a,b)
    plt.show()
if __name__=="__main__":
    check_data()
    #plot_a_b()